"0","DATA_FOLDER <- Sys.getenv(""DATA_FOLDER"")"
"0","drive_deauth()"
"0","drivefiles <- drive_ls(DATA_FOLDER, pattern = ""prediction"") %>%"
"0","  rowwise() %>% "
"0","  mutate(time = drive_resource$createdTime) %>%"
"0","  group_by(name) %>%"
"0","  slice_max(time) %>%"
"0","  select(name, id)"
"2",""
"2"," "
"0","for (file_id in drivefiles$id) {"
"0","  drive_download(as_id(file_id), overwrite = TRUE)"
"0","}"
"2","File downloaded:
"
"2","â€¢ [36mgroup1 - prediction.csv[39m [90m<id: 1X5idfGFeifZ-A07othyNU8NPdxnBi3P1>[39m
"
"2","Saved locally as:
"
"2","â€¢ ]8;;file:///Users/jsmith/Library/CloudStorage/OneDrive-WilfridLaurierUniversity/Administrative/UG Chair/econcomp2/group1 - prediction.csv[34mgroup1 - prediction.csv[39m]8;;
"
"0","filenames <- drivefiles %>% pull(name)"
"0",""
"0",""
"0","EVAL_FILE = Sys.getenv(""EVAL_FILE"")"
"0","evaloutcome<-drive_read_string(EVAL_FILE)%>% read.csv(text=.)"
"2","No encoding supplied: defaulting to UTF-8.
"
"0","lboard <- function(x){"
"0","  groupname <-str_extract(x, ""group\\d"") %>% str_replace(""group"", ""group "") %>% str_to_title()"
"0","  data <- read_csv(x) %>% full_join(.,evaloutcome, by=""csdid"")"
"0","  row <- c(groupname, Sys.Date(), format(Sys.time(),'%H:%M'), rmse(data$col87, data$pimm))"
"0","  return(row)"
"0","}"
"0",""
"0","x<-lapply(filenames, lboard) %>% "
"0","  {as.data.frame(do.call(rbind, .))} %>% "
"0","  mutate(across(c(V2, V4), as.numeric), V2 = as.Date(V2)) %>%"
"0","  arrange(V4)"
"2","[1mRows: [22m[34m1597[39m [1mColumns: [22m[34m2[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[32mdbl[39m (2): csdid, pimm"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"1","[1m[33mError[39m in `full_join()`:[22m
[38;5;232m[33m![38;5;232m Join columns in `y` must be present in the data.
[31mâœ–[38;5;232m Problem with `csdid`.[39m
Backtrace:
[90m 1. [39m... %>% arrange(V4)
[90m 8. [39m[1m[94mdplyr:::full_join.data.frame([39m[22m., evaloutcome, by = ""csdid""[1m[94m)[39m[22m
"
